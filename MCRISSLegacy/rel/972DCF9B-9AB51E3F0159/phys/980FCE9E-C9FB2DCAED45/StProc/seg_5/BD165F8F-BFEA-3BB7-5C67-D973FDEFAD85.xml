<?xml version = '1.0' encoding = 'UTF-8'?>
<StoredProcedureSqlServerv2k5 class="oracle.dbtools.crest.model.design.storage.sqlserver.v2k5.StoredProcedureSqlServerv2k5" name="[GetEnlistedPooleeDetails]" directorySegmentName="seg_5" id="BD165F8F-BFEA-3BB7-5C67-D973FDEFAD85">
<sourceDDLFile>create MCRISS script - MCRISS OTA.txt</sourceDDLFile>
<createdBy>MichalBonino</createdBy>
<createdTime>2024-04-29 19:28:42 UTC</createdTime>
<ownerDesignName>MCRISSLegacy</ownerDesignName>
<body><![CDATA[( 
  @Nwaid int 
 ) 
 
AS 
 
SELECT P.[SOCIAL_SECURITY_NUMBER] as SSN 
      ,N.[NWA_ID] 
   ,N.[rowguid]  
   ,RP.[RANK_CODE] 
   ,HS.[HIGHSCHOOL_NAME] 
      ,CE.SCHOOL_END_DATE 
   ,MC.DRIVER_LICENSE_NUM 
   ,MC.DRIVER_LICENSE_STATE 
   ,CT.AREA_CODE+'-'+CT.TELEPHONE_NUMBER TELEPHONE_NUMBER 
   ,P.LAST_NAME 
   ,P.FIRST_NAME 
   ,P.LEGAL_MIDDLE_NAME 
   ,PAY.RANK_CODE AS APPLICANT_RANK 
   ,M.EXPIRATION_OF_ACTIVE_SERVICE 
   ,M.PRIMARY_MOS 
FROM [dbo].[NWA] N WITH (NOLOCK) 
  INNER JOIN [dbo].[PERSON] p 
   ON P.PERSON_ID = N.MARINE_CANDIDATE_ID 
  LEFT OUTER JOIN RECRUITING_PERSON RP  
   ON RP.RECRUITING_PERSON_ID = P.PERSON_ID  
  LEFT OUTER JOIN [dbo].[CANDIDATE_EDUCATION] CE 
   ON CE.MARINE_CANDIDATE_ID = N.MARINE_CANDIDATE_ID 
  LEFT OUTER JOIN [dbo].[HIGH_SCHOOL] HS 
   ON HS.SCHOOL_CODE = ce.SCHOOL_CODE 
  LEFT OUTER JOIN [dbo].[MARINE_CANDIDATE] MC 
   ON MC.MARINE_CANDIDATE_ID = N.MARINE_CANDIDATE_ID 
  LEFT OUTER JOIN [dbo].[CANDIDATE_TELEPHONE] CT 
   ON CT.MARINE_CANDIDATE_ID = N.MARINE_CANDIDATE_ID AND CT.TELEPHONE_TYPE='C' 
  LEFT OUTER JOIN [dbo].[MARINE] M 
   ON M.MARINE_ID = P.PERSON_ID 
  LEFT OUTER JOIN [dbo].[PAY_GRADE] PAY 
   ON PAY.PAY_GRADE_CODE = M.PRESENT_GRADE_CODE 
WHERE N.NWA_ID = @Nwaid]]></body>
<schema>72379847-5555-B149-4E45-17F849103A51</schema>
<database>B007042D-D2E3-F83F-481F-CEB23B21CB30</database>
</StoredProcedureSqlServerv2k5>