<?xml version = '1.0' encoding = 'UTF-8'?>
<StoredProcedureSqlServerv2k5 class="oracle.dbtools.crest.model.design.storage.sqlserver.v2k5.StoredProcedureSqlServerv2k5" name="[sp_GetWaiverData]" directorySegmentName="seg_21" id="994A3E19-2B5A-E9B6-E278-3355E3940AC7">
<sourceDDLFile>create MCRISS script - MCRISS OTA.txt</sourceDDLFile>
<createdBy>MichalBonino</createdBy>
<createdTime>2024-04-29 19:28:41 UTC</createdTime>
<ownerDesignName>MCRISSLegacy</ownerDesignName>
<body><![CDATA[@WaiverID as integer 
AS 
 
SELECT DISTINCT  
 CONVERT(VARCHAR(11), CW.WAIVER_SUBMISSION_DATE, 106) AS WAIVER_SUBMISSION_DATE, 
 CW.OCCASION_ID, CW.WAIVER_DETAILS, CW.WAIVER_STATUS_CODE, 
 CONVERT(VARCHAR(11), CW.APPROVAL_DATE, 106) AS APPROVAL_DATE, 
 CW.APPROVAL_NUMBER,  
 W.WAIVER_CATEGORY_ID, W.WAIVER_TYPE_ID, W.WAIVER_LEVEL_ID, 
 WC.WAIVER_CATEGORY_CODE + ' ' + WT.WAIVER_TYPE_CODE + ' ' + WL.WAIVER_LEVEL_CODE AS CAT_TYPE_LEVEL, 
 WL.WAIVER_LEVEL_DESC,  
 ISNULL(CCW.PROGRAM_ID, 0) AS PROGRAM_ID, ISNULL(CCW.MOS, '') AS MOS, 
  ISNULL(CCW.AFQT, '') AS AFQT, ISNULL(CCW.GT, '') AS GT, ISNULL(CCW.EL, '') AS EL, 
 ISNULL(CCW.MM, '') AS MM, ISNULL(CCW.CL, '') AS CL, ISNULL(CCW.HEIGHT, '') AS HEIGHT, 
 ISNULL(CCW.AGE, '') AS AGE, ISNULL(CCW.COLOR_PERCEPTION, '') AS COLOR_PERCEPTION,  
 ISNULL(CCW.VISION, '') AS VISION, ISNULL(CCW.WPMT, '') AS WPMT, ISNULL(CCW.APT, '') AS APT, 
 ISNULL(CCW.EDPT, '') AS EDPT, ISNULL(CCW.DLAB, '') AS DLAB, ISNULL(CCW.PAOI, '') AS PAOI,  
 ISNULL(CCW.MEOP, '') AS MEOP, ISNULL(CCW.HIGHEST_WAIVER_LEVEL, '') AS HIGHEST_WAIVER_LEVEL,  
 ISNULL(CCW.SERIOUS_MORAL_OFFENSES, '') AS SERIOUS_MORAL_OFFENSES, 
 ISNULL(CCW.MARIJUANA_USE, '') AS MARIJUANA_USE, ISNULL(CCW.ALGEBRA_GRADE, '') AS ALGEBRA_GRADE 
FROM  
 CANDIDATE_WAIVER CW INNER JOIN WAIVER W ON CW.WAIVER_ID = W.WAIVER_ID   
 INNER JOIN WAIVER_CATEGORY WC ON W.WAIVER_CATEGORY_ID = WC.WAIVER_CATEGORY_ID  
 INNER JOIN WAIVER_TYPE WT ON W.WAIVER_TYPE_ID = WT.WAIVER_TYPE_ID  
 INNER JOIN WAIVER_LEVEL WL ON W.WAIVER_LEVEL_ID = WL.WAIVER_LEVEL_ID  
 LEFT OUTER JOIN CANDIDATE_CRITERIA_WAIVER CCW ON CW.CANDIDATE_WAIVER_ID = CCW.CANDIDATE_WAIVER_ID 
WHERE  
 CW.CANDIDATE_WAIVER_ID = @WaiverID]]></body>
<schema>3925E19F-DC76-90A4-B892-D7A526C79632</schema>
<database>B007042D-D2E3-F83F-481F-CEB23B21CB30</database>
</StoredProcedureSqlServerv2k5>