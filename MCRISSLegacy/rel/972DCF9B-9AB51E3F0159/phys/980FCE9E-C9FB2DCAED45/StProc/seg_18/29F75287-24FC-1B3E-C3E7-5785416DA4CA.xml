<?xml version = '1.0' encoding = 'UTF-8'?>
<StoredProcedureSqlServerv2k5 class="oracle.dbtools.crest.model.design.storage.sqlserver.v2k5.StoredProcedureSqlServerv2k5" name="[sp_GetMEPSSchedule]" directorySegmentName="seg_18" id="29F75287-24FC-1B3E-C3E7-5785416DA4CA">
<sourceDDLFile>Appian.sql</sourceDDLFile>
<createdBy>MichalBonino</createdBy>
<createdTime>2024-04-29 23:57:48 UTC</createdTime>
<ownerDesignName>MCRISSLegacy</ownerDesignName>
<body><![CDATA[@ScheduleID as int 
AS 
 
SELECT  
 CONVERT(VARCHAR, M.PROCESSING_DATE, 106) AS PROCESSING_DATE,  
 M.MEPS_ORGANIZATION_ID, 
 CONVERT(VARCHAR, M.ARRIVAL_DATE, 106) AS ARRIVAL_DATE,  
 M.TRANSPORTATION_REQUIRED, M.LODGING_REQUIRED, M.LAST_PROCESSED_FOR,  
 M.ASVAB, M.SPECIAL_EXAM, 
 ISNULL(M.SPECIAL_EXAM_TYPE, '') AS SPECIAL_EXAM_TYPE, 
 M.COMPLETE_PHYSICAL, M.INSPECTION_PHYSICAL, M.CONSULTATION_PHYSICAL,  
 ISNULL(M.CONSULTATION_TYPE, '') AS CONSULTATION_TYPE, 
 M.CONTRACT, M.SHIP, M.OTHER_PROCESSING, M.PROCESSING_NOTES,  
 ISNULL(M.PROCESSING_STATUS, '') AS PROCESSING_STATUS, 
 PS.PROCESSING_STATUS_DESCRIPTION, 
 RS_ORGANIZATION_ID = (SELECT OM.PARENT_ORGANIZATION_ID FROM ORGANIZATION_MAP OM  
    WHERE OM.CHILD_ORGANIZATION_ID = NWA.ORGANIZATION_OF_RECORD_ID), 
 P.LAST_NAME + ', ' + P.FIRST_NAME + SPACE(1) + ISNULL(P.LEGAL_MIDDLE_NAME, '') AS PERSON_NAME, 
 P.SOCIAL_SECURITY_NUMBER 
FROM  
 MEPS_SCHEDULE M INNER JOIN PROCESSING_STATUS PS ON M.PROCESSING_STATUS = PS.PROCESSING_STATUS_CODE 
 INNER JOIN NWA ON M.NWA_ID = NWA.NWA_ID INNER JOIN PERSON P ON NWA.MARINE_CANDIDATE_ID = P.PERSON_ID 
WHERE  
 M.SCHEDULE_ID = @ScheduleID]]></body>
<schema>DD6CF638-A2EB-2E1B-FF13-422CA718DE2D</schema>
<database>EA42DEDC-DFC5-B775-3079-AD0E133F5E1D</database>
</StoredProcedureSqlServerv2k5>