<?xml version = '1.0' encoding = 'UTF-8'?>
<StoredProcedureSqlServerv2k5 class="oracle.dbtools.crest.model.design.storage.sqlserver.v2k5.StoredProcedureSqlServerv2k5" name="[sp_GetRecruiterBilletData]" directorySegmentName="seg_20" id="4BAF6CD6-C0B3-208C-C3F6-2D3DAB2862AD">
<sourceDDLFile>Appian.sql</sourceDDLFile>
<createdBy>MichalBonino</createdBy>
<createdTime>2024-04-29 23:57:48 UTC</createdTime>
<ownerDesignName>MCRISSLegacy</ownerDesignName>
<body><![CDATA[@PersonID int 
AS 
 
 
SELECT   
 RR.SHORT_DESCRIPTION,  
 COALESCE(CONVERT(VARCHAR(11), RP.BILLET_BEGIN_DATE, 106), SPACE(0)) AS BILLET_BEGIN_DATE,  
 COALESCE(CONVERT(VARCHAR(11), RP.BILLET_END_DATE, 106), SPACE(0)) AS BILLET_END_DATE,  
 NULL AS EFFECTIVE_DATE, 
 RP.BILLET_BEGIN_DATE AS BILLET_BEGIN_DATE_SORT  
FROM  
 RECRUITING_PERSON RP INNER JOIN RECRUITING_ROLE RR ON 
 (RP.RECRUITING_ROLE_ID = RR.RECRUITING_ROLE_ID AND RECRUITING_PERSON_ID = @PersonID) 
 
UNION 
 
SELECT  
 BILLET_DESC,  
 COALESCE(CONVERT(VARCHAR(11), BILLET_BEGIN_DATE, 106), SPACE(0)) AS BILLET_BEGIN_DATE,  
 COALESCE(CONVERT(VARCHAR(11), BILLET_END_DATE, 106), SPACE(0)) AS BILLET_END_DATE,  
 COALESCE(CONVERT(VARCHAR(24), EFFECTIVE_DATE, 21), SPACE(0)) AS EFFECTIVE_DATE, 
 BILLET_BEGIN_DATE AS BILLET_BEGIN_DATE_SORT 
FROM  
 RECRUITER_HISTORY 
WHERE 
 RECRUITING_PERSON_ID = @PersonID 
ORDER BY  
 BILLET_BEGIN_DATE_SORT DESC]]></body>
<schema>DD6CF638-A2EB-2E1B-FF13-422CA718DE2D</schema>
<database>EA42DEDC-DFC5-B775-3079-AD0E133F5E1D</database>
</StoredProcedureSqlServerv2k5>