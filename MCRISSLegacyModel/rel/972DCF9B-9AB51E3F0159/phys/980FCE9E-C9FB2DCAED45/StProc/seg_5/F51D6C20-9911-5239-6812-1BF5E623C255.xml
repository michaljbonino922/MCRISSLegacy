<?xml version = '1.0' encoding = 'UTF-8'?>
<StoredProcedureSqlServerv2k5 class="oracle.dbtools.crest.model.design.storage.sqlserver.v2k5.StoredProcedureSqlServerv2k5" name="[GetEnlistedPooleeDetails]" directorySegmentName="seg_5" id="F51D6C20-9911-5239-6812-1BF5E623C255">
<sourceDDLFile>Appian.sql</sourceDDLFile>
<createdBy>MichalBonino</createdBy>
<createdTime>2024-04-29 23:57:48 UTC</createdTime>
<ownerDesignName>MCRISSLegacyModel</ownerDesignName>
<body><![CDATA[( 
  @Nwaid int 
 ) 
 
AS 
 
SELECT P.[SOCIAL_SECURITY_NUMBER] as SSN 
      ,N.[NWA_ID] 
   ,N.[rowguid]  
   ,RP.[RANK_CODE] 
   ,HS.[HIGHSCHOOL_NAME] 
      ,CE.SCHOOL_END_DATE 
   ,MC.DRIVER_LICENSE_NUM 
   ,MC.DRIVER_LICENSE_STATE 
   ,CT.AREA_CODE+'-'+CT.TELEPHONE_NUMBER TELEPHONE_NUMBER 
   ,P.LAST_NAME 
   ,P.FIRST_NAME 
   ,P.LEGAL_MIDDLE_NAME 
   ,PAY.RANK_CODE AS APPLICANT_RANK 
   ,M.EXPIRATION_OF_ACTIVE_SERVICE 
   ,M.PRIMARY_MOS 
FROM [dbo].[NWA] N WITH (NOLOCK) 
  INNER JOIN [dbo].[PERSON] p 
   ON P.PERSON_ID = N.MARINE_CANDIDATE_ID 
  LEFT OUTER JOIN RECRUITING_PERSON RP  
   ON RP.RECRUITING_PERSON_ID = P.PERSON_ID  
  LEFT OUTER JOIN [dbo].[CANDIDATE_EDUCATION] CE 
   ON CE.MARINE_CANDIDATE_ID = N.MARINE_CANDIDATE_ID 
  LEFT OUTER JOIN [dbo].[HIGH_SCHOOL] HS 
   ON HS.SCHOOL_CODE = ce.SCHOOL_CODE 
  LEFT OUTER JOIN [dbo].[MARINE_CANDIDATE] MC 
   ON MC.MARINE_CANDIDATE_ID = N.MARINE_CANDIDATE_ID 
  LEFT OUTER JOIN [dbo].[CANDIDATE_TELEPHONE] CT 
   ON CT.MARINE_CANDIDATE_ID = N.MARINE_CANDIDATE_ID AND CT.TELEPHONE_TYPE='C' 
  LEFT OUTER JOIN [dbo].[MARINE] M 
   ON M.MARINE_ID = P.PERSON_ID 
  LEFT OUTER JOIN [dbo].[PAY_GRADE] PAY 
   ON PAY.PAY_GRADE_CODE = M.PRESENT_GRADE_CODE 
WHERE N.NWA_ID = @Nwaid]]></body>
<schema>E9C4E37D-78A2-31F9-D580-7C2848ACFCB7</schema>
<database>EA42DEDC-DFC5-B775-3079-AD0E133F5E1D</database>
</StoredProcedureSqlServerv2k5>